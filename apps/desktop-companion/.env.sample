# ============================================================================
# FluxBoard - Livestream Copilot Environment Configuration
# ============================================================================
# Copy this file to .env and fill in the values for your environment.
# Required variables are marked with [REQUIRED], optional ones with [OPTIONAL].
# Variables with defaults will use the shown default if not specified.
# ============================================================================

# ===================
# Server Configuration
# ===================

# Application environment [OPTIONAL]
# Options: development, production, test
# Default: development
NODE_ENV=development

# HTTP server port [OPTIONAL]
# Default: 3123
HTTP_PORT=3123

# WebSocket server port [OPTIONAL]
# Default: 3124
WS_PORT=3124

# Base URL for the application [OPTIONAL]
# Used for OAuth callbacks, email links, etc.
APP_URL=http://localhost:3000

# CORS allowed origins [OPTIONAL]
# Comma-separated list of allowed origins for browser requests
CORS_ORIGINS=http://localhost:3000,http://localhost:3002

# ===================
# OBS Configuration
# ===================

# OBS WebSocket URL [OPTIONAL]
# Default: ws://127.0.0.1:4455
OBS_WS_URL=ws://127.0.0.1:4455

# OBS WebSocket password [OPTIONAL]
# Leave empty if OBS authentication is disabled
OBS_WS_PASSWORD=

# Replay buffer duration in seconds [OPTIONAL]
# This should match your OBS replay buffer configuration
# Default: 300 (5 minutes)
REPLAY_BUFFER_SECONDS=300

# ===================
# Database Configuration (Prisma)
# ===================

# PostgreSQL connection URL [REQUIRED for database features]
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=SCHEMA
#
# For Prisma Postgres (recommended for production):
#   Get your connection string from https://console.prisma.io
#   DATABASE_URL=prisma+postgres://accelerate.prisma-data.net/?api_key=YOUR_API_KEY
#
# For local development with Docker:
#   DATABASE_URL=postgresql://postgres:postgres@localhost:5432/livestream_copilot?schema=public
#
# For production PostgreSQL:
#   DATABASE_URL=postgresql://app_user:secure_password@db.example.com:5432/livestream_copilot?schema=public&connection_limit=5
DATABASE_URL=

# Direct database URL for Prisma migrations (when using Prisma Accelerate) [OPTIONAL]
# This is the direct PostgreSQL connection, bypassing the proxy
# DIRECT_URL=postgresql://user:password@host:5432/database

# ===================
# Authentication Configuration
# ===================

# JWT Secret for signing access tokens [REQUIRED for auth]
# Generate with: openssl rand -base64 64
JWT_SECRET=

# JWT Refresh Secret for signing refresh tokens [REQUIRED for auth]
# Generate with: openssl rand -base64 64
JWT_REFRESH_SECRET=

# Access token expiration in seconds [OPTIONAL]
# Default: 900 (15 minutes)
JWT_ACCESS_EXPIRY=900

# Refresh token expiration in seconds [OPTIONAL]
# Default: 604800 (7 days)
JWT_REFRESH_EXPIRY=604800

# ===================
# OAuth Providers (Optional - enable as needed)
# ===================

# Google OAuth
# Create credentials at: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# GitHub OAuth
# Create OAuth app at: https://github.com/settings/developers
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# Twitch OAuth
# Create app at: https://dev.twitch.tv/console/apps
TWITCH_CLIENT_ID=
TWITCH_CLIENT_SECRET=

# ===================
# Media Storage (Bunny.net CDN)
# ===================
# Bunny.net provides fast, affordable CDN and storage for video/audio files.
# Create an account at: https://bunny.net

# Bunny.net Storage Zone Name [REQUIRED for media uploads]
BUNNY_STORAGE_ZONE=

# Bunny.net Storage API Key [REQUIRED for media uploads]
# Found in Storage Zone settings
BUNNY_STORAGE_API_KEY=

# Bunny.net CDN Hostname [REQUIRED for media delivery]
# Format: https://your-zone.b-cdn.net
BUNNY_CDN_URL=

# Bunny.net Stream Library ID [OPTIONAL - for video streaming]
# Found in Stream settings
BUNNY_STREAM_LIBRARY_ID=

# Bunny.net Stream API Key [OPTIONAL - for video streaming]
BUNNY_STREAM_API_KEY=

# ===================
# AI Agent Configuration
# ===================

# AI provider to use [OPTIONAL]
# Options: anthropic, openai
# Default: anthropic
AI_PROVIDER=anthropic

# Anthropic API key [REQUIRED for AI agents with Claude]
# Get your key at: https://console.anthropic.com/
ANTHROPIC_API_KEY=

# OpenAI API key [OPTIONAL - alternative to Claude]
# Get your key at: https://platform.openai.com/
OPENAI_API_KEY=

# AI model identifier [OPTIONAL]
# Default: claude-sonnet-4-20250514
AI_MODEL=claude-sonnet-4-20250514

# Max tokens for AI responses [OPTIONAL]
# Default: 4096
AI_MAX_TOKENS=4096

# ===================
# STT (Speech-to-Text) Configuration
# ===================

# Speech-to-text provider [OPTIONAL]
# Options: deepgram, assemblyai, whisper
# Default: deepgram
STT_PROVIDER=deepgram

# Deepgram API key [OPTIONAL - Required if STT_PROVIDER=deepgram]
# Get your key at: https://console.deepgram.com/
DEEPGRAM_API_KEY=

# AssemblyAI API key [OPTIONAL - Required if STT_PROVIDER=assemblyai]
# Get your key at: https://www.assemblyai.com/dashboard/
# ASSEMBLYAI_API_KEY=

# Whisper model path [OPTIONAL - Required if STT_PROVIDER=whisper]
# Path to the local Whisper model file
# WHISPER_MODEL_PATH=

# ===================
# Payment Processing (Stripe)
# ===================
# For subscription management and billing

# Stripe Secret Key [REQUIRED for payments]
# Get keys at: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=

# Stripe Publishable Key [REQUIRED for frontend]
STRIPE_PUBLISHABLE_KEY=

# Stripe Webhook Secret [REQUIRED for webhooks]
# Found when setting up webhook endpoint
STRIPE_WEBHOOK_SECRET=

# ===================
# Email Service (for password reset and verification emails)
# ===================
# Required for password reset functionality (SOC-401)
# If not configured, emails will be logged to console in development mode

# Email provider [OPTIONAL]
# Options: resend, sendgrid, smtp
EMAIL_PROVIDER=smtp

# Resend API Key [OPTIONAL - if using Resend]
# Get your key at: https://resend.com/
RESEND_API_KEY=

# SendGrid API Key [OPTIONAL - if using SendGrid]
# SENDGRID_API_KEY=

# SMTP Configuration [REQUIRED for password reset emails]
# Examples for popular providers:
#
# Gmail with App Password:
#   SMTP_HOST=smtp.gmail.com
#   SMTP_PORT=587
#   SMTP_SECURE=false
#   SMTP_USER=your-email@gmail.com
#   SMTP_PASS=your-app-password  # Generate at https://myaccount.google.com/apppasswords
#   SMTP_FROM="Your App <noreply@yourapp.com>"
#
# SendGrid:
#   SMTP_HOST=smtp.sendgrid.net
#   SMTP_PORT=587
#   SMTP_SECURE=false
#   SMTP_USER=apikey
#   SMTP_PASS=your-sendgrid-api-key
#
# AWS SES:
#   SMTP_HOST=email-smtp.us-east-1.amazonaws.com
#   SMTP_PORT=587
#   SMTP_SECURE=false
#   SMTP_USER=your-ses-smtp-username
#   SMTP_PASS=your-ses-smtp-password
#
# Mailgun:
#   SMTP_HOST=smtp.mailgun.org
#   SMTP_PORT=587
#   SMTP_SECURE=false
#   SMTP_USER=postmaster@your-domain.mailgun.org
#   SMTP_PASS=your-mailgun-password

# SMTP server hostname [REQUIRED for SMTP]
SMTP_HOST=smtp.gmail.com

# SMTP server port [REQUIRED for SMTP]
# Common ports: 587 (TLS/STARTTLS), 465 (SSL), 25 (unencrypted - not recommended)
SMTP_PORT=587

# Use SSL/TLS encryption [REQUIRED for SMTP]
# Set to 'true' for port 465 (SSL), 'false' for port 587 (STARTTLS)
SMTP_SECURE=false

# SMTP authentication username [REQUIRED for SMTP]
SMTP_USER=

# SMTP authentication password [REQUIRED for SMTP]
SMTP_PASS=

# From email address for system emails [REQUIRED for email]
# Format: "Display Name <email@domain.com>"
SMTP_FROM="FluxBoard <noreply@fluxboard.app>"

# Application URL for email links [REQUIRED for auth emails]
# Used in password reset and verification links
# Should match APP_URL above
# Example: https://fluxboard.app or http://localhost:3000
# APP_URL=http://localhost:3000

# ===================
# Observability (Opik) Configuration
# ===================
# Opik provides tracing and observability for LLM applications.
# Leave these empty to disable Opik integration.

# Opik workspace name [OPTIONAL]
# Your Opik workspace identifier
# OPIK_WORKSPACE_NAME=

# Opik project name [OPTIONAL]
# The project to log traces to
# OPIK_PROJECT_NAME=

# Opik API key [OPTIONAL]
# Not required for self-hosted Opik instances
# OPIK_API_KEY=

# Opik URL override [OPTIONAL]
# For self-hosted Opik deployments
# OPIK_URL_OVERRIDE=

# ===================
# Logging Configuration
# ===================

# Minimum log level [OPTIONAL]
# Options: trace, debug, info, warn, error, fatal
# Default: info
LOG_LEVEL=info

# Log output format [OPTIONAL]
# Options: json, pretty
# Default: pretty
# Use 'json' for production environments with log aggregation
LOG_FORMAT=pretty

# ===================
# Path Configuration
# ===================

# Directory for session data storage [OPTIONAL]
# Default: ./sessions
SESSION_DIR=./sessions

# Path to ffmpeg binary [OPTIONAL]
# If not specified, ffmpeg will be looked up in PATH
# FFMPEG_PATH=

# ===================
# Redis (for sessions and caching) [OPTIONAL]
# ===================

# Redis connection URL [OPTIONAL - for session store and caching]
# REDIS_URL=redis://localhost:6379
